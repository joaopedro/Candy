<form ng-submit="submit()">
    <div ng-switch on="entityId || 'null'">
        <p ng-switch-when="null">Create new {{entityName}}</p>
        <p ng-switch-default>Edit {{entityName}} {{entityId}}</p>
    </div>

    <div class="form-group" ng-repeat="(key, value) in element">
        <span ng-repeat="fieldDefs in fieldsDefs" ng-if="fieldDefs.friendlyName == key && fieldDefs.fieldId == false">
            <label>{{key}}</label>
            <input type="text" ng-model="element[key]" class="form-control"/>
            <span id="helpBlock" class="help-block">Please enter a {{fieldDefs.type|lowercase}}</span>
        </span>
    </div>
    <button type="submit" class="btn btn-primary" title="Submit">Submit</button>
    <a ng-href="#/entity?name={{entityName}}" class="btn btn-default" role="button" title="Cancel">Cancel</a>
</form>